//
// =========================== ===========================
// 3 - Interface
// =========================== ===========================

// Titlebar 
.titlebar-button-container.mod-right > .titlebar-button::after {
    content: '';
    background-color: var(--titlebar-text-color);
    width: var(--icon-s);
    height: var(--icon-s);
	-webkit-mask-position: 50% 50%;
	-webkit-mask-size: 100%;
	-webkit-mask-repeat: no-repeat;	
}
.is-focused .titlebar-button-container.mod-right > .titlebar-button::after {
	background-color: var(--titlebar-text-color-focused);
}
:is(.mod-linux, .mod-windows) .titlebar-button {
	padding-inline: 18px;
	&:not(.mod-logo) > * {
		display: none;
	}
	&.mod-minimize::after {
		-webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyLjI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLW1pbnVzLWljb24gbHVjaWRlLW1pbnVzIj48cGF0aCBkPSJNNSAxMmgxNCIvPjwvc3ZnPg==");
	}
	&.mod-maximize::after {
		-webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyLjc1IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLW1heGltaXplMi1pY29uIGx1Y2lkZS1tYXhpbWl6ZS0yIj48cGF0aCBkPSJNMTUgM2g2djYiLz48cGF0aCBkPSJtMjEgMy03IDciLz48cGF0aCBkPSJtMyAyMSA3LTciLz48cGF0aCBkPSJNOSAyMUgzdi02Ii8+PC9zdmc+");
		-webkit-mask-size: 75%;
	}
	&.mod-close::after {
		-webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyLjI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXgtaWNvbiBsdWNpZGUteCI+PHBhdGggZD0iTTE4IDYgNiAxOCIvPjxwYXRoIGQ9Im02IDYgMTIgMTIiLz48L3N2Zz4=");
	}
	&.mod-close:hover {
		background-color: oklch(from var(--color-red) l c h / 0.333);
	}
	&.mod-close:hover::after {
		background-color: var(--color-red);
	}
	&.mod-left {
		padding-inline-start: 3px;
		--background-modifier-hover: transparent;
	}
}
:is(.mod-linux, .mod-windows).is-maximized .titlebar-button.mod-maximize::after {
	-webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyLjc1IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXNxdWFyZS1pY29uIGx1Y2lkZS1zcXVhcmUiPjxyZWN0IHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgeD0iMyIgeT0iMyIgcng9IjIiLz48L3N2Zz4=");
}

// --> Nav Header <--

body:not(.is-mobile) {
	.mod-sidedock .nav-header {
		margin-block: calc(var(--vl-layout-padding) - 6px);
		align-self: center;
		width: calc(100% - 60px);
	}
	.nav-header {
		display: flex;
		flex-direction: column;
		align-items: center;
		padding: 6px;
		transition: var(--anim-duration-moderate) var(--vl-ease-out);
	}
	.nav-buttons-container {
		contain: content;
		flex-wrap: nowrap;
		height: 0;
		width: 48px;
		max-width: calc(100% + 60px);
		background-color: var(--trans-faint-20);
		border-radius: var(--radius-xxl);
		padding: 2px;
		interpolate-size: allow-keywords;
		transition: var(--anim-duration-moderate) var(--vl-ease-out);
		& > * {
			filter: opacity(0);
		}
	}
	.nav-action-button {
		border-radius: var(--radius-xl);
		height: 32px;
		width: 44px;
		transition: var(--anim-duration-moderate) var(--vl-ease-out);
	}
	.nav-header > .search-input-container {
		margin-block: 8px 0;
	}
	.mod-sidedock .nav-header + * {
		padding-top: 0;
	}
		// Git plugin compatibility 
	[data-type="git-view"] .nav-header {
		width: 100%;
	}
	[data-type="git-view"] .nav-buttons-container {
		max-width:  100%;
	}
}
body:not(.is-mobile) .nav-header:hover > .nav-buttons-container,
body.disable-hover-header .nav-buttons-container {
	height: fit-content;
	width: fit-content;
	& > * {
		filter: unset;
	}
}
body.disable-hover-header .nav-buttons-container {
	--trans-faint-20: var(--trans-strong-40);
}

// --> Navigation / File Tree <--

.workspace-leaf-content .tree-item-self {
	padding-block: var(--vl-layout-padding);
	--nav-item-background-hover: oklab(from var(--trans-faint-20) l a b /0.025);
}
.tree-item-self.mod-collapsible {
	--nav-item-color: var(--color-base-80);
	--nav-item-color-hover: var(--nav-item-color);
	--nav-item-color-active: var(--nav-item-color);
	--nav-item-background-hover: transparent;
	--nav-item-weight: var(--font-semi-medium);
	--nav-item-weight-hover: var(--font-semi-medium);
	--nav-item-weight-active: var(--font-semi-medium);
	--icon-opacity: 1;
}

// Folders 
:is([data-type="bookmarks"],
	[data-type="outline"],
	[data-type="file-explorer"]) {
	--nav-collapse-icon-color: var(--color-base-80);
}

:is([data-type="bookmarks"],
	[data-type="file-explorer"]) {
	.tree-item-self.mod-collapsible {
		--nav-item-background-active: var(--color-accent-6);
	}
	.tree-item:not(.is-collapsed) .tree-item-self.mod-collapsible {
		background-color: var(--nav-item-background-active);
		--nav-item-color: var(--text-accent);
		--nav-collapse-icon-color: var(--color-accent-1);
	}
	.tree-item:not(.is-collapsed) .tree-item-self.mod-collapsible.has-focus {
		background-color: var(--text-selection);
	}
	.tree-item-children > .tree-item.is-collapsed .tree-item-self.mod-collapsible {
		--nav-item-background-active: transparent;
		--text-selection: var(--background-modifier-hover);
		--nav-item-color: var(--color-base-80);
		--nav-collapse-icon-color: var(--nav-folder-color);
	}
}

// Files 
.tree-item-self.has-focus,
.tree-item-self.is-selected {
	box-shadow: none !important;
}
.tree-item-self.has-focus {
	background-color: var(--background-modifier-hover);
	--nav-item-background-hover: var(--background-modifier-hover);
}
.tree-item-self.is-selected {
	background-color: var(--nav-item-background-selected) !important;
	--nav-item-color-selected: var(--text-accent);
}
.tree-item-self.is-being-dragged {
	background-color: var(--interactive-accent) !important;
	box-shadow: var(--shadow-s) !important;
	--nav-collapse-icon-color: var(--trans-strong-10) !important;
}

.collapse-icon svg.svg-icon {
	transition-duration: var(--anim-duration-fast);
}
.nav-file-tag {
	font-variation-settings: 'opsz' 28;
	letter-spacing: 0.075em;
}
.tree-item-self.is-being-dragged > .nav-file-tag {
	color: var(--trans-strong-10);
}

// Backlinks 

.workspace-leaf-content[data-type="backlink"] > .view-content,
.workspace-leaf-content[data-type="outgoing-link"] > .view-content {
	padding-block-start: unset;
}
.backlink-pane .search-result-file-title,
.outgoing-link-pane .outgoing-link-item {
	--nav-item-background-hover: var(--color-accent-5);
	--nav-item-color: var(--link-color-sidebar);
	--nav-item-color-hover: var(--link-color-sidebar);
	--nav-item-color-active: var(--link-color-sidebar);
	--nav-collapse-icon-color: var(--icon-color);
	> .tree-item-inner {
		font-weight: var(--font-semi-medium);
	}
}
:is(.backlink-pane, .outgoing-link-pane) > .tree-item-self {
	--nav-heading-color: var(--icon-color);
	--nav-heading-color-collapsed-hover: var(--nav-heading-color);
	--nav-item-color-hover: var(--nav-heading-color);
}
:is(.backlink-pane, .outgoing-link-pane) > .tree-item-self > .tree-item-inner {
	font: var(--font-semi-medium) var(--font-ui-medium) var(--font-interface-theme);
	font-variation-settings: 'opsz' 24;
}
.search-empty-state {
	--text-faint: var(--color-base-40);
}

.search-result-file-matches {
	color: var(--text-muted);
	outline: 1px solid var(--trans-faint-20);
    box-shadow: var(--shadow-sidebar);
	font-weight: var(--font-semi-medium);
	margin-block-start: 0;
}
.search-result-file-title > .tree-item-flair-outer {
	display: none;
}
.search-result-file-matched-text {
	background-color: var(--text-highlight-bg-search);
	padding: 0 2px 1px;
}
.search-result-file-match:hover .search-result-file-matched-text,
.tree-item-self.is-clickable:hover .search-result-file-matched-text {
	background-color: var(--trans-faint-40);
}

// Embedded backlinks 
.embedded-backlinks,
.mod-root .workspace-leaf-content[data-type="backlink"],
.mod-root .workspace-leaf-content[data-type="outgoing-link"] {
	border: unset;
	--search-result-background: var(--trans-faint-05);
}
body:not(.is-mobile) .embedded-backlinks > .nav-header {
	margin-block-end: 2rem;
	padding: unset;
}
.embedded-backlinks .tree-item-self.is-clickable {
	contain: content;
	width: auto;
	user-select: none;
}
.embedded-backlinks .search-empty-state {
	user-select: none;
}
.embedded-backlinks .backlink-pane > .tree-item-self > .tree-item-inner {
	color: var(--text-muted);
	margin-inline-end: unset;
}

// Outgoing links 
.outgoing-link-pane .tree-item-inner-text {
	line-height: var(--line-height-normal);
}

.outgoing-link-item > .tree-item-icon {
	margin-block-start: 3px;
}
.outgoing-link-item[aria-label] > .tree-item-icon {
	margin-block-start: 1px;
}

// special code for uncreated outgoing links 
.outgoing-link-item:not([draggable="true"]) {
	--nav-item-background-hover: var(--color-accent-6); 
}
.outgoing-link-item:not([draggable="true"]) .tree-item-inner-text,
.outgoing-link-item:not([draggable="true"]):hover .tree-item-inner-text {
	color: var(--link-unresolved-color);
}
.outgoing-link-item:not([draggable="true"]) .tree-item-icon {
	filter: opacity(60%);
}

// Search View 
.search-row {
    column-gap: 6px;
}
.search-row > .clickable-icon {
	contain: content;
    border-radius: var(--radius-xl);
	padding: 8px;
}
.global-search-input-container > .input-right-decorator.clickable-icon {
	border-radius: var(--radius-xl);
	padding-inline: 6px;
}
.mod-sidedock .search-info-container {
    color: var(--text-accent);
	font-weight: var(--font-semi-medium);
    padding: 8px 20px;
}
.mod-sidedock .search-params {
	margin: 8px 12px;
}
.mod-sidedock .search-params .setting-item {
	margin-block-end: calc(var(--vl-layout-padding) * 0.5);
	padding-inline: 8px 2px;
}
.mod-sidedock .search-results-info {
    margin-inline: 12px;
    padding: 6px 2px 8px;
	--input-shadow: none;
	--interactive-accent: var(--text-normal);
	--text-muted: var(--icon-color);
}

// --> Sidebar Leaves with special content <--

body:not(.is-mobile) .mod-sidedock .workspace-leaf-content:is(
	[data-type="canvas"],
	[data-type="kanban"],
	[data-type="pdf"],
	[data-type="webviewer"]) {
	background-color: var(--background-primary);
	border-radius: var(--radius-ml);
	box-shadow: var(--shadow-sidebar);
	width: calc(100% - 16px);
	height: calc(100% - 10px);
	margin: 1px 8px 9px;
	padding-block-end: 0;
	padding-inline: unset;
	> .view-content {
		padding-block-start: 0;
	}
	--bases-cards-group-padding: 2px 12px 12px 12px;
}
body:not(.is-mobile) .mod-sidedock .workspace-tabs:last-child .workspace-leaf-content:is(
	[data-type="canvas"],
	[data-type="kanban"],
	[data-type="pdf"],
	[data-type="webviewer"]) {
	height: calc(100% - 2px);
	margin-block-end: 1px;
}
body:not(.is-mobile) .mod-sidedock.mod-right-split .workspace-tabs:last-child .workspace-leaf-content:is(
	[data-type="canvas"],
	[data-type="kanban"],
	[data-type="pdf"],
	[data-type="webviewer"]) {
	height: calc(100% - 44px);
	margin-block-end: 44px;
}

// --> Workspace Tabs <--

// Remove tab gutter curves 
.workspace-split.mod-root .workspace-tab-header::before, 
.workspace-split.mod-root .workspace-tab-header::after,
.workspace-split.mod-root .workspace-tab-header-inner::after {
    display: none;
}

// Tab Containers 

// Separate window padding adjustment for tabs 
.is-hidden-frameless .workspace-window .workspace-tab-header-container > .workspace-tab-header-container-inner {
	padding-inline-start: 2px;
}

.workspace > .mod-root .workspace-tab-header-container-inner {
	align-items: center;
	column-gap: 4px;
    padding-inline: 8px;
	padding-block: 0;
}
.workspace.is-left-sidedock-open .mod-root .workspace-tab-header-container-inner {
	padding-inline-start: 0;
}

.mod-sidedock .workspace-tab-header-container-inner {
	background-color: var(--tab-sidebar-container-bg);
	border-radius: 20px;
	height: fit-content;
	margin-block: 10px;
	padding: unset;
	overflow: visible;
	outline: 3px solid var(--tab-sidebar-container-bg);
	-electron-corner-smoothing: var(--corner-smoothing);
}

// Root Tabs 
.mod-root .workspace-tabs:not(.mod-stacked) {
	.workspace-tab-header {
		contain: content;
		align-items: center;
		border-radius: var(--tab-radius);
		min-height: 36px;
		margin-block-start: unset;
		padding: unset;
	}
	.workspace-tab-header.is-active {
		background-color: transparent;
	}
	.workspace-tab-header:not(.is-active) .workspace-tab-header-status-container {
		pointer-events: none;
		--text-accent: var(--icon-color);
	}
	.workspace-tab-header-inner {
		min-height: 34px;
		background-color: var(--trans-faint-05);
		padding-inline: 0;
	}
	.workspace-tab-header:hover > .workspace-tab-header-inner {
		background-color: var(--background-modifier-hover);
	}
	.workspace-tab-header.is-active > .workspace-tab-header-inner {
		background-color: var(--background-modifier-hover);
	}
	.workspace-tab-header-inner-icon {
		padding-inline: 6px 0;
		margin-inline-end: -6px;
	}
	.workspace-tab-header .workspace-tab-header-inner-close-button {
		filter: opacity(0);
		border-radius: 0;
		margin-inline-start: -32px;
		padding: 8px 9px 8px 5px;
		display: flex;
		justify-content: center;
		&:hover {
			filter: unset;
			background: var(--tab-right-fade);
		}
	}
	.workspace-tab-header.is-active .workspace-tab-header-inner-close-button:hover::after {
		content: '';
		background-color: var(--tab-close-bg);
		position: absolute;
		width: 24px;
		height: 24px;
		border-radius: var(--radius-xs);
		z-index: -1;
	}
	.workspace-tab-header-inner-title {
		contain: content;
		padding-inline: 6px 10px;
		transition: color var(--anim-super-swing);
		text-align: center;
		text-box-trim: trim-both;
	}

	.workspace-tab-header-new-tab {
		margin-inline: -4px 8px;
	}
	.workspace-tab-header-status-container {
		margin-inline: -32px 6px;
	}
	.workspace-tab-header-status-icon {
		padding: 4px;
	}
}

body.prevent-exit 
	.workspace-tabs:not(.mod-stacked) .workspace-tab-header:not(.is-active):hover .workspace-tab-header-inner-close-button {
	display: none;
}
.workspace-tab-header-inner-close-button,
.mod-root .workspace-tab-header .workspace-tab-header-inner-close-button {
	border-radius: var(--radius-xs);
    color: var(--icon-color);
	padding: 4px;
	--icon-stroke: var(--icon-s-stroke-width);
}

// Sidebar Tabs 
.mod-sidedock .workspace-tab-header {
	contain: content;
	border-radius: var(--tab-radius);
	min-height: 36px;
	min-width: 36px;
	--tab-radius: var(--radius-xxl);
}
.mod-sidedock .workspace-tab-header:hover {
	--background-modifier-hover: transparent;
	--icon-color-hover: var(--nav-item-color);
}
.mod-sidedock .workspace-tab-header-inner {
	transition: inherit;
	& > * {
		transition: inherit;
	}
}
.mod-sidedock .workspace-tab-header.is-active,
.mod-sidedock .workspace-tab-header.is-active:hover {
	background-color: var(--tab-sidebar-bg);
	box-shadow: var(--shadow-tab);
	--icon-color-focused: var(--color-base-100);
}

// Tab Icons 
.workspace-tab-header:not(.is-active) .workspace-tab-header-inner .workspace-tab-header-inner-icon {
    --icon-opacity: 0.8;
}
.mod-sidedock .workspace-tab-header-status-container {
	color: var(--icon-color);
	filter: opacity(var(--icon-opacity));
	--icon-opacity: 0.75;
}
.mod-sidedock .workspace-tab-header.is-active .workspace-tab-header-status-container {
	--icon-color: var(--link-color);
	--icon-opacity: 1;
}
.mod-sidedock .workspace-tab-header.is-active .workspace-tab-header-status-container:hover {
	--icon-color: var(--link-color-hover);
}

// FROM Willemstad 
// By tingmelvin 

body.improve-pinned-tabs .mod-root .workspace-tab-header-container-inner .workspace-tab-header:has(.mod-pinned) {
	max-width: 60px;
	> .workspace-tab-header-inner {
		background-color: var(--trans-faint-05);
	}
	&.is-active > .workspace-tab-header-inner {
		background-color: var(--color-accent-6);
	}
	.workspace-tab-header-inner-title,
	.workspace-tab-header-inner-icon {
		display: none;
	}
	.workspace-tab-header-status-container {
		margin-inline: unset;
		--background-modifier-active-hover: var(--color-accent-6);
	}
}

// --> View Header <--

.view-header {
	padding-inline: 8px;	
	flex-shrink: 0;
}
.view-header > .view-header-left .clickable-icon {
	--icon-color: var(--text-normal);
}
.view-header-title-container > *,
.view-header > :is(
	.view-header-left,
	.view-header-reload-button, 
	.view-actions) {
	& .clickable-icon {
		padding: 10px;
	}
}
// View header Title 
.view-header-title-container { 
	margin-inline-end: 4px;
}
.view-header-title {
	color: var(--text-normal);
	padding-inline: 2px;
}
.view-header-title-parent {
	color: var(--text-faint);
}
.view-header-title-parent .view-header-breadcrumb {
	padding-inline: 6px;
}
// View header FAB 
body:not(.is-mobile) .workspace-leaf-content[data-type="markdown"] {
	& .view-actions {
		contain: content;
		column-gap: 4px;
		padding-inline-end: 4px;
		padding-block-end: 24px;
		margin-block-end: -24px;
		transform: translateX(-8px) translateY(12px);
	}
	& .view-actions .clickable-icon.view-action:last-child {
		contain: content;
		border-radius: var(--radius-xl);
		height: 36px;
		width: 20px;
		padding: 0;
		margin-block-start: 2px;
		filter: opacity(0%);
		transition: var(--anim-duration-moderate) var(--vl-ease-out);
		--icon-size: 24px;
	}
	& .view-actions:hover .clickable-icon.view-action:last-child {
		filter: opacity(37.5%);
		&:hover {
			filter: unset;
		}
	}
	& .view-actions .clickable-icon.view-action:not(:last-child, .mod-bookmark) {
		--icon-size: var(--icon-m);
		--icon-color: var(--fab-color);
		--icon-color-hover: var(--fab-color);
		--icon-color-focused: var(--fab-color);
		height: 40px;
		width: 40px;
		border-radius: 50%;
		padding-block: 1px 0;
		padding-inline: 0 1px;
		order: 2;
		opacity: 1;
		filter: opacity(100%);
		background-color: var(--fab-bg);
		box-shadow: var(--shadow-input), 0px 3px 15px 0px var(--trans-faint-20);
		cursor: var(--cursor-link);

		> .svg-icon {
			filter: opacity(75%);
		}
		&:hover > .svg-icon {
			filter: opacity(100%);
		}
		&:active > .svg-icon {
			transform: scale3d(0.625,0.625,0.625);
			filter: opacity(50%);
			transition-duration: 450ms;
		}
	}
	&[data-mode="source"] .view-actions .clickable-icon.view-action:not(:last-child, .mod-bookmark) {
		box-shadow: var(--shadow-fab-active);
		--icon-color: var(--interactive-accent);
		--icon-color-hover: var(--icon-color);
		--icon-color-focused: var(--icon-color);

		> .svg-icon {
			filter: opacity(100%);
		}
		&:hover > .svg-icon {
			filter: opacity(75%);
		}
	}
	& .view-actions .clickable-icon.view-action.mod-bookmark {
		order: 1;
	}
}

body:not(.is-mobile) .workspace-leaf-content[data-type="empty"] > .view-header > :is(.view-header-left, .view-header-title-container) {
	visibility: hidden;
}

// --> Document Search <--

body:not(.is-phone) {
	.document-search-container {
		contain: paint;
		background-color: var(--background-primary);
		border-radius: var(--radius-xxl);
		box-shadow: var(--shadow-fab);
		padding: 6px;
		position: absolute;
		right: 0;
		top: 1px;
		gap: 4px;
		margin: 4px 8px;
		--background-primary: var(--fab-bg);
		--search-icon-color: var(--color-base-55);
	}
	.mod-right-split .document-search-container {
		right: unset;
		left: 0;
	}
	.mod-right-split .document-search-container * {
		flex-direction: row-reverse;
	}
	.mod-root .document-search-container {
		right: 60px;
		top: 15px;
		--background-primary: var(--fab-bg);
	}
	.document-search-container :is(.document-search, .document-replace) {
		background-color: transparent;
		padding-inline: unset;
		gap: 4px;
	}
	:is(.document-search-input, .document-replace) input {
		box-shadow: var(--shadow-sidebar);
		border-radius: var(--radius-l);
		--background-modifier-form-field: var(--search-result-background);
		--background-modifier-form-field-hover: var(--search-result-background);
	}
	:is(.document-search-input, .document-replace) input:focus {
		box-shadow: 0 0 0 2.25px var(--text-highlight-bg-search-active);
	}
	.document-replace input {
		text-indent: 5.5px;
	}
	.document-search-container .clickable-icon {
		border-radius: var(--radius-m);
	}
	.mod-replace-mode .document-search-close-button {
		margin-inline-end: 4px;
	}
	.document-replace input::placeholder {
		text-indent: 5.5px;
	}
	.document-replace-buttons {
		margin-inline-end: 72px;
	}
}

// Search highlights 
.markdown-rendered .search-highlight > div,
.markdown-rendered .search-highlight > div.is-active,
.cm-s-obsidian span.obsidian-search-match-highlight {
	background-color: var(--text-highlight-bg-search-active);
	box-shadow: none;
	filter: opacity(100%);
}
.markdown-rendered .search-highlight > div {
	background-color: var(--text-highlight-bg-search-active);
}

// --> Ribbon <--

.workspace-ribbon > .side-dock-actions {
	gap: 4px;
}
.workspace-ribbon > .sidebar-toggle-button {
	padding-inline-start: 8px;
}
.clickable-icon.side-dock-ribbon-action {
	--icon-color: var(--text-muted);
	--icon-color-hover: var(--color-base-100);
}

// --> Vault Profile <--

body:not(.is-mobile)
	.workspace-split.mod-left-split
	.workspace-sidedock-vault-profile {
		border: none;
		background-color: transparent;
		font-variation-settings: 'opsz' 28;
	}
body:not(.is-mobile) 
	.workspace-split.mod-left-split 
	.workspace-sidedock-vault-profile 
	.workspace-drawer-vault-switcher {
		height: 100%;
	} 
body:not(.is-mobile) 
	.workspace-split.mod-left-split 
	.workspace-sidedock-vault-profile 
	.workspace-drawer-vault-switcher-icon {
		color: var(--vault-profile-color);
		--icon-stroke: 2.125px;
	}
body:not(.is-mobile) 
	.workspace-split.mod-left-split 
	.workspace-sidedock-vault-profile 
	.workspace-drawer-vault-actions > :first-child {
		display: none;
	} 

// ADAPTED FROM: Micro Mike 
// By ThisTheThe 
// MIT License 

// --> Sidebar Auto-Hide <--

@media only screen and (max-width: 800px) {
	body:not(.is-mobile, .is-popout-window, .disable-autohide) :is(
		.mod-right-split,
		.mod-left-split,
		.workspace-ribbon,
		.sidebar-toggle-button) {
		display: none;
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) {
		background: var(--background-primary);
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .workspace {
		--frame-right-space: 0px;
		--frame-left-space: 0px;
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .workspace-split.mod-vertical {
		gap: 0 !important;
		padding: 0;
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .workspace .mod-root {
		--shadow-workspace: none;
		--shadow-workspace-multi: none;
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .workspace .mod-root .workspace-tab-container {
		outline-color: transparent;
		border-radius: 0 !important;
		margin: 0 !important;
	} 
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .workspace-tabs.mod-stacked .workspace-tab-container {
		box-shadow: var(--input-shadow);
	}
	.mod-macos.is-hidden-frameless .workspace .workspace-tabs.mod-top.mod-top-right-space .workspace-tab-header-container {
  		padding-right: 8px;
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide).is-hidden-frameless .mod-horizontal:last-of-type > .workspace-tabs:nth-last-child(1 of .mod-top) > .workspace-tab-header-container,
	body:not(.is-mobile, .is-popout-window, .disable-autohide).is-hidden-frameless .workspace-tabs:last-of-type:nth-last-child(1 of .mod-top) > .workspace-tab-header-container  {
		margin-right: var(--frame-right-space-override);
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .workspace-tab-header-container-inner {
		padding-inline: 0px 6px !important;
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .status-bar::after {
		content: 'auto-hide is active';
		border-radius: var(--radius-l);
		color: var(--text-error);
		position: absolute;
		left: -128px;
		bottom: 0px;
		padding: 6px 8px;
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide) .status-bar::after,
	body:not(.is-mobile, .is-popout-window, .disable-autohide, .disable-status-fade) .status-bar:hover::after {
		background-color: oklch(from var(--text-error) l c h / 0.1);
	}
	body:not(.is-mobile, .is-popout-window, .disable-autohide, .disable-status-fade) .status-bar::after {
		background-color: transparent;
	}
}

// --> Stacked Tabs <--

.workspace-tabs.mod-stacked .workspace-tab-container {
	background-color: var(--background-primary);
}
.workspace-tabs.mod-stacked .workspace-tab-header {
	--nav-text-color: var(--text-normal);
	--tab-text-color: var(--icon-color);
	--tab-text-color-focused: var(--icon-color);
}
.workspace-tabs.mod-stacked .workspace-tab-container::-webkit-scrollbar-track {
	margin-inline: 2px;
}
body:not(.is-mobile) .mod-root .workspace-tabs.mod-stacked {
	.workspace-leaf, .workspace-tab-header-inner {
		border-bottom: 1px solid var(--divider-color);
	}
	.workspace-tab-header .workspace-tab-header-inner {
    	padding: 9px 8px 8px;
	}
	.workspace-tab-header .workspace-tab-header-inner-icon {
    	display: none;
	} 
	:is(.workspace-tab-header-inner-close-button, 
		.workspace-tab-header-status-icon) {
    	padding: 6px;
	}
	.workspace-tab-header-inner-close-button {
		order: -1;
	}
	.workspace-tab-header .workspace-tab-header-inner-title {
		letter-spacing: 0.125px;
		padding-inline: 6px 0;
		padding-right: 1px;
	}
	.workspace-leaf-content .view-header {
		padding-inline: 0 12px; 
	}
}
body:not(.is-mobile) .workspace .mod-root .workspace-tabs.mod-stacked 
.workspace-tab-header-container-inner {
    padding: 0 0 0 4px;
}

// --> PDF viewer <--

.pdfViewer > .page {
    border: unset;
}

.pdf-toolbar-left {
	> .clickable-icon {
		padding: 8px;
		--icon-stroke: var(--icon-m-stroke-width);
		--icon-color: var(--text-muted);
	}
	> .pdf-page-input {
		margin-inline-end: 2px;
		--input-height: 26px;
	}
}
.pdf-sidebar-container {
	--divider-width: 1px;
}
.pdf-sidebar-container {
	.thumbnail {
		border-radius: var(--radius-m);
	}
	.thumbnail > img,
	.thumbnail::before  {
		border-radius: var(--radius-xs);
	}
}
.mod-sidedock .pdf-toolbar {
    padding: 8px;
}

// --> Empty State <--

// REMOVED FOR NOW 
